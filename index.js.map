{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = \"50837590-b5294368a5e0df0c87d227cce\"\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nexport function getImagesByQuery(query) {\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n  };\n return axios(BASE_URL, {params})\n .then(response => response.data)\n .catch(error => {\n   throw new Error(\"Помилка запиту до API\");\n });\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nconst galleryContainer = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nlet lightbox;\n\n\n\nexport function createGallery(images) {\n    const markup = images\n      .map(image => `\n        <li class=\"gallery-item\">\n          <a href=\"${image.largeImageURL}\">\n            <img \n              src=\"${image.webformatURL}\" \n              alt=\"${image.tags}\" \n              class=\"gallery-image\"\n            >\n          </a>\n          <div class=\"image-info\">\n            <p><b>Likes:</b> ${image.likes}</p>\n            <p><b>Views:</b> ${image.views}</p>\n            <p><b>Comments:</b> ${image.comments}</p>\n            <p><b>Downloads:</b> ${image.downloads}</p>\n          </div>\n        </li>\n      `)\n      .join(\"\");\n  \n      galleryContainer.insertAdjacentHTML(\"beforeend\", markup);\n  \n    if (!lightbox) {\n      lightbox = new SimpleLightbox(\".gallery a\", {\n        captionsData: \"alt\",\n        captionDelay: 250,\n      });\n    } else {\n      lightbox.refresh();\n    }\n  }\n\n  export function clearGallery() {\n    galleryContainer.innerHTML = \"\";\n    if (lightbox) lightbox.destroy();\n    lightbox = null;\n  }\n  \nexport function showLoader() {\n    loader.classList.remove('hidden');\n}\nexport function hideLoader() {\n    loader.classList.add('hidden');\n}\n\n","import { getImagesByQuery } from \"./js/pixabay-api.js\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions.js';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst form = document.querySelector('.form')\nconst input = form.elements['search-text'];\n\nform.addEventListener(\"submit\", e => {\n    e.preventDefault();\n\n    const query = input.value.trim();\n\n\n    if (!query) {\n        iziToast.warning({\n            title: 'Warning',\n            message: 'Please enter a search query!',\n            position: 'topRight',\n          });\n          return;\n    }\n    showLoader();\n    clearGallery();\n    \n    getImagesByQuery(query)\n    .then(data => {\n      if (!data.hits || data.hits.length === 0) {\n        iziToast.error({\n          title: \"Error\",\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n          position: \"topRight\"\n        });\n        return;\n      }\n      \n      createGallery(data.hits);\n    })\n    .catch(error => {\n      iziToast.error({\n        title: \"Error\",\n        message: error.message || \"An error occurred while fetching images\",\n        position: \"topRight\"\n      });\n    })\n    .finally(() => {\n        hideLoader();\n      form.reset();\n    });\n\n})"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","axios","response","error","galleryContainer","loader","lightbox","createGallery","images","markup","image","SimpleLightbox","clearGallery","showLoader","hideLoader","form","input","e","iziToast","data"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAiBC,EAAO,CAQvC,OAAOC,EAAMH,EAAU,CAAC,OAPR,CACb,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAC+B,CAAC,EAC9B,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,CACd,MAAM,IAAI,MAAM,uBAAuB,CAC1C,CAAE,CACF,CChBA,MAAMC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAIG,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EACZ,IAAIE,GAAS;AAAA;AAAA,qBAECA,EAAM,aAAa;AAAA;AAAA,qBAEnBA,EAAM,YAAY;AAAA,qBAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,+BAKAA,EAAM,KAAK;AAAA,+BACXA,EAAM,KAAK;AAAA,kCACRA,EAAM,QAAQ;AAAA,mCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,OAG3C,EACA,KAAK,EAAE,EAERN,EAAiB,mBAAmB,YAAaK,CAAM,EAEpDH,EAMHA,EAAS,QAAO,EALhBA,EAAW,IAAIK,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACtB,CAAO,CAIJ,CAEM,SAASC,GAAe,CAC7BR,EAAiB,UAAY,GACzBE,GAAUA,EAAS,UACvBA,EAAW,IACZ,CAEI,SAASO,GAAa,CACzBR,EAAO,UAAU,OAAO,QAAQ,CACpC,CACO,SAASS,GAAa,CACzBT,EAAO,UAAU,IAAI,QAAQ,CACjC,CC/CA,MAAMU,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQD,EAAK,SAAS,aAAa,EAEzCA,EAAK,iBAAiB,SAAUE,GAAK,CACjCA,EAAE,eAAc,EAEhB,MAAMjB,EAAQgB,EAAM,MAAM,KAAI,EAG9B,GAAI,CAAChB,EAAO,CACRkB,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,+BACT,SAAU,UACtB,CAAW,EACD,MACL,CACDL,IACAD,IAEAb,EAAiBC,CAAK,EACrB,KAAKmB,GAAQ,CACZ,GAAI,CAACA,EAAK,MAAQA,EAAK,KAAK,SAAW,EAAG,CACxCD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2EACT,SAAU,UACpB,CAAS,EACD,MACD,CAEDX,EAAcY,EAAK,IAAI,CAC7B,CAAK,EACA,MAAMhB,GAAS,CACde,EAAS,MAAM,CACb,MAAO,QACP,QAASf,EAAM,SAAW,0CAC1B,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACXW,IACFC,EAAK,MAAK,CAChB,CAAK,CAEL,CAAC"}